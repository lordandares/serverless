{"version":3,"sources":["../../../src/helpers/get-job-details/index.js"],"names":["upperCase","moment","getAssigneesFullNames","getGeometryGeocodedString","getStatusDetails","getUserFullName","getTimezoneDatetime","getJobDetails","data","entity","timezone","users","assignees","author","createdAt","description","due","geometryReverseGeocoded","reference","status","assigneeNames","authorFullName","locationText","statusProps","statusStyle","style","statusColor","color","statusText","text","createdTimezoneDateTime","timestamp","dueDateTimezoneDateTime","timezoneAbbrText","tz","format"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,SACEC,qBADF,EAEEC,yBAFF,EAGEC,gBAHF,EAIEC,eAJF,EAKEC,mBALF,QAMO,KANP;AAQA,OAAO,SAASC,aAAT,CAAuBC,IAAvB,EAA6B;AAAA,qBACOA,IADP,CAC1BC,MAD0B;AAAA,MAC1BA,MAD0B,6BACjB,EADiB;AAAA,MACbC,QADa,GACOF,IADP,CACbE,QADa;AAAA,MACHC,KADG,GACOH,IADP,CACHG,KADG;AAAA,MAIhCC,SAJgC,GAY9BH,MAZ8B,CAIhCG,SAJgC;AAAA,MAKhCC,MALgC,GAY9BJ,MAZ8B,CAKhCI,MALgC;AAAA,MAMhCC,SANgC,GAY9BL,MAZ8B,CAMhCK,SANgC;AAAA,4BAY9BL,MAZ8B,CAOhCM,WAPgC;AAAA,MAOhCA,WAPgC,oCAOlB,GAPkB;AAAA,MAQhCC,GARgC,GAY9BP,MAZ8B,CAQhCO,GARgC;AAAA,MAShCC,uBATgC,GAY9BR,MAZ8B,CAShCQ,uBATgC;AAAA,0BAY9BR,MAZ8B,CAUhCS,SAVgC;AAAA,MAUhCA,SAVgC,kCAUpB,GAVoB;AAAA,MAWhCC,MAXgC,GAY9BV,MAZ8B,CAWhCU,MAXgC;AAclC,MAAMC,aAAa,GAAGlB,qBAAqB,CAACS,KAAD,EAAQC,SAAR,CAA3C;AACA,MAAMS,cAAc,GAAGhB,eAAe,CAACM,KAAD,EAAQE,MAAR,CAAtC;AACA,MAAMS,YAAY,GAAGnB,yBAAyB,CAACc,uBAAD,CAA9C;AAEA,MAAMM,WAAW,GAAGnB,gBAAgB,CAACe,MAAD,CAApC;AACA,MAAMK,WAAW,GAAGD,WAAW,CAACE,KAAhC;AACA,MAAMC,WAAW,GAAGF,WAAW,CAACG,KAAhC;AACA,MAAMC,UAAU,GAAG5B,SAAS,CAACuB,WAAW,CAACM,IAAb,CAA5B;AAEA,MAAMC,uBAAuB,GAAGxB,mBAAmB,CAAC;AAClDyB,IAAAA,SAAS,EAAEjB,SADuC;AAElDJ,IAAAA,QAAQ,EAARA;AAFkD,GAAD,CAAnD;AAIA,MAAMsB,uBAAuB,GAAG1B,mBAAmB,CAAC;AAClDyB,IAAAA,SAAS,EAAEf,GADuC;AAElDN,IAAAA,QAAQ,EAARA;AAFkD,GAAD,CAAnD;AAIA,MAAMuB,gBAAgB,GAAGhC,MAAM,CAACiC,EAAP,CAAUxB,QAAV,EAAoByB,MAApB,CAA2B,GAA3B,CAAzB;AAEA,SAAO;AACLf,IAAAA,aAAa,EAAbA,aADK;AAELC,IAAAA,cAAc,EAAdA,cAFK;AAGLS,IAAAA,uBAAuB,EAAvBA,uBAHK;AAILf,IAAAA,WAAW,EAAXA,WAJK;AAKLiB,IAAAA,uBAAuB,EAAvBA,uBALK;AAMLV,IAAAA,YAAY,EAAZA,YANK;AAOLE,IAAAA,WAAW,EAAXA,WAPK;AAQLE,IAAAA,WAAW,EAAXA,WARK;AASLE,IAAAA,UAAU,EAAVA,UATK;AAULV,IAAAA,SAAS,EAATA,SAVK;AAWLe,IAAAA,gBAAgB,EAAhBA;AAXK,GAAP;AAaD","sourcesContent":["import { upperCase } from 'lodash'\nimport moment from 'moment-timezone'\n\nimport {\n  getAssigneesFullNames,\n  getGeometryGeocodedString,\n  getStatusDetails,\n  getUserFullName,\n  getTimezoneDatetime,\n} from '../'\n\nexport function getJobDetails(data) {\n  const { entity = {}, timezone, users } = data\n\n  const {\n    assignees,\n    author,\n    createdAt,\n    description = '-',\n    due,\n    geometryReverseGeocoded,\n    reference = '-',\n    status,\n  } = entity\n\n  const assigneeNames = getAssigneesFullNames(users, assignees)\n  const authorFullName = getUserFullName(users, author)\n  const locationText = getGeometryGeocodedString(geometryReverseGeocoded)\n\n  const statusProps = getStatusDetails(status)\n  const statusStyle = statusProps.style\n  const statusColor = statusStyle.color\n  const statusText = upperCase(statusProps.text)\n\n  const createdTimezoneDateTime = getTimezoneDatetime({\n    timestamp: createdAt,\n    timezone,\n  })\n  const dueDateTimezoneDateTime = getTimezoneDatetime({\n    timestamp: due,\n    timezone,\n  })\n  const timezoneAbbrText = moment.tz(timezone).format('z')\n\n  return {\n    assigneeNames,\n    authorFullName,\n    createdTimezoneDateTime,\n    description,\n    dueDateTimezoneDateTime,\n    locationText,\n    statusStyle,\n    statusColor,\n    statusText,\n    reference,\n    timezoneAbbrText,\n  }\n}\n"],"file":"index.js"}