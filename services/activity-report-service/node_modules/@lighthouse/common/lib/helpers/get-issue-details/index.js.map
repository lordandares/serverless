{"version":3,"sources":["../../../src/helpers/get-issue-details/index.js"],"names":["get","upperCase","moment","getAssigneesFullNames","getLocationReference","getPrettyDuration","getStatusDetails","getTimezoneDatetime","getUserFullName","getIssueDetails","data","entity","timezone","users","assignees","createdAt","duration","gps","status","user","assigneeNames","durationInMins","durationText","fullName","gpsText","isClosedStatus","locationText","statusDetails","statusStyle","style","statusColor","color","statusText","text","timezoneDatetime","timestamp"],"mappings":"AAAA,SAASA,GAAT,EAAcC,SAAd,QAA+B,QAA/B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,SACEC,qBADF,EAEEC,oBAFF,EAGEC,iBAHF,EAIEC,gBAJF,EAKEC,mBALF,EAMEC,eANF,QAOO,KAPP;AASA,OAAO,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;AAAA,MAC5BC,MAD4B,GACAD,IADA,CAC5BC,MAD4B;AAAA,MACpBC,QADoB,GACAF,IADA,CACpBE,QADoB;AAAA,MACVC,KADU,GACAH,IADA,CACVG,KADU;AAAA,MAG5BC,SAH4B,GAG0BH,MAH1B,CAG5BG,SAH4B;AAAA,MAGjBC,SAHiB,GAG0BJ,MAH1B,CAGjBI,SAHiB;AAAA,MAGNC,QAHM,GAG0BL,MAH1B,CAGNK,QAHM;AAAA,MAGIC,GAHJ,GAG0BN,MAH1B,CAGIM,GAHJ;AAAA,MAGSC,MAHT,GAG0BP,MAH1B,CAGSO,MAHT;AAAA,MAGiBC,IAHjB,GAG0BR,MAH1B,CAGiBQ,IAHjB;AAKpC,MAAMC,aAAa,GAAGjB,qBAAqB,CAACU,KAAD,EAAQC,SAAR,CAA3C;AACA,MAAMO,cAAc,GAAGnB,MAAM,CAACc,QAAP,CAAgBA,QAAhB,EAA0B,SAA1B,CAAvB;AACA,MAAMM,YAAY,GAAGjB,iBAAiB,CAACgB,cAAD,CAAtC;AACA,MAAME,QAAQ,GAAGf,eAAe,CAACK,KAAD,EAAQM,IAAR,CAAhC;AACA,MAAMK,OAAO,GAAGxB,GAAG,CAACiB,GAAD,EAAM,uBAAN,EAA+B,kBAA/B,CAAnB;AACA,MAAMQ,cAAc,GAAGP,MAAM,KAAK,QAAlC;AACA,MAAMQ,YAAY,GAAGtB,oBAAoB,CAACM,IAAD,CAAzC;AACA,MAAMiB,aAAa,GAAGrB,gBAAgB,CAACY,MAAD,CAAtC;AACA,MAAMU,WAAW,GAAGD,aAAa,CAACE,KAAlC;AACA,MAAMC,WAAW,GAAGF,WAAW,CAACG,KAAhC;AACA,MAAMC,UAAU,GAAG/B,SAAS,CAAC0B,aAAa,CAACM,IAAf,CAA5B;AACA,MAAMC,gBAAgB,GAAG3B,mBAAmB,CAAC;AAC3C4B,IAAAA,SAAS,EAAEpB,SADgC;AAE3CH,IAAAA,QAAQ,EAARA;AAF2C,GAAD,CAA5C;AAKA,SAAO;AACLQ,IAAAA,aAAa,EAAbA,aADK;AAELE,IAAAA,YAAY,EAAZA,YAFK;AAGLE,IAAAA,OAAO,EAAPA,OAHK;AAILD,IAAAA,QAAQ,EAARA,QAJK;AAKLE,IAAAA,cAAc,EAAdA,cALK;AAMLC,IAAAA,YAAY,EAAZA,YANK;AAOLE,IAAAA,WAAW,EAAXA,WAPK;AAQLE,IAAAA,WAAW,EAAXA,WARK;AASLE,IAAAA,UAAU,EAAVA,UATK;AAULE,IAAAA,gBAAgB,EAAhBA;AAVK,GAAP;AAYD","sourcesContent":["import { get, upperCase } from 'lodash'\nimport moment from 'moment-timezone'\n\nimport {\n  getAssigneesFullNames,\n  getLocationReference,\n  getPrettyDuration,\n  getStatusDetails,\n  getTimezoneDatetime,\n  getUserFullName,\n} from '../'\n\nexport function getIssueDetails(data) {\n  const { entity, timezone, users } = data\n\n  const { assignees, createdAt, duration, gps, status, user } = entity\n\n  const assigneeNames = getAssigneesFullNames(users, assignees)\n  const durationInMins = moment.duration(duration, 'minutes')\n  const durationText = getPrettyDuration(durationInMins)\n  const fullName = getUserFullName(users, user)\n  const gpsText = get(gps, 'reverseGeocoded.label', 'Unknown Location')\n  const isClosedStatus = status === 'closed'\n  const locationText = getLocationReference(data)\n  const statusDetails = getStatusDetails(status)\n  const statusStyle = statusDetails.style\n  const statusColor = statusStyle.color\n  const statusText = upperCase(statusDetails.text)\n  const timezoneDatetime = getTimezoneDatetime({\n    timestamp: createdAt,\n    timezone,\n  })\n\n  return {\n    assigneeNames,\n    durationText,\n    gpsText,\n    fullName,\n    isClosedStatus,\n    locationText,\n    statusStyle,\n    statusColor,\n    statusText,\n    timezoneDatetime,\n  }\n}\n"],"file":"index.js"}