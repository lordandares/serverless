{"version":3,"sources":["../../src/errors/ValidationError.ts"],"names":["ValidationError","SchemaValidationError","DomainError","DEFAULT_MESSAGE","data","message","validationMessage","name","other","status"],"mappings":";;;;;AAAA,SAASA,eAAe,IAAIC,qBAA5B,QAAyD,KAAzD;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAOA,IAAMC,eAAe,GACnB,uEADF;;IAGqBH,e;;;AAInB,iCAA0D;AAAA;;AAAA,QAA5CI,IAA4C,QAA5CA,IAA4C;AAAA,4BAAtCC,OAAsC;AAAA,QAAtCA,OAAsC,6BAA5BF,eAA4B;;AAAA;;AACxD;AACA;AACA,QAAIC,IAAI,YAAYH,qBAApB,EAA2C;AAAA,UACxBK,iBADwB,GACcF,IADd,CACjCC,OADiC;AAAA,UACLE,IADK,GACcH,IADd,CACLG,IADK;AAAA,UACIC,KADJ,4BACcJ,IADd;;AAGzC,2FAAME,iBAAN;AACA,YAAKF,IAAL,GAAYI,KAAZ;AACA,YAAKC,MAAL,GAAc,GAAd;AACA;AACD;;AAED,yFAAMJ,OAAN;AACA,UAAKD,IAAL,GAAYA,IAAZ;AACA,UAAKK,MAAL,GAAc,GAAd;AAdwD;AAezD;;;EAnB0CP,W;;SAAxBF,e","sourcesContent":["import { ValidationError as SchemaValidationError } from 'yup'\nimport DomainError from './DomainError'\n\ninterface Options {\n  data?: any\n  message?: string\n}\n\nconst DEFAULT_MESSAGE =\n  'The data you submitted was invalid. Please try again with valid data.'\n\nexport default class ValidationError extends DomainError {\n  public data: object\n  public message: string\n  public status: number\n  constructor({ data, message = DEFAULT_MESSAGE }: Options) {\n    // When the data object is a schema validation error, take its data\n    // attributes and apply to our wrapped error\n    if (data instanceof SchemaValidationError) {\n      const { message: validationMessage, name, ...other } = data\n\n      super(validationMessage)\n      this.data = other\n      this.status = 400\n      return\n    }\n\n    super(message)\n    this.data = data\n    this.status = 400\n  }\n}\n"],"file":"ValidationError.js"}