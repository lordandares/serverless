"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getTaskEntryDetails = getTaskEntryDetails;

var _lodash = require("lodash");

var _ = require("../");

function getTaskEntryDetails(data) {
  const {
    entity = {},
    timezone
  } = data;
  const {
    createdAt,
    gps
  } = entity;
  const gpsText = (0, _lodash.get)(gps, 'reverseGeocoded.label', 'Unknown Location');
  const locationText = (0, _.getLocationReference)(data);
  const referenceDetails = (0, _.getReferenceDetails)(data);
  const timezoneHourTime = (0, _.getTimezoneDatetime)({
    format: 'h:mm a',
    timestamp: createdAt,
    timezone
  });
  const timezoneDatetime = (0, _.getTimezoneDatetime)({
    timestamp: createdAt,
    timezone
  });
  return {
    locationText,
    gpsText,
    referenceLabel: referenceDetails.label,
    referenceValue: referenceDetails.value,
    timezoneHourTime,
    timezoneDatetime
  };
}